service: prototype-app

frameworkVersion: "=1.11.0"

provider:
  name: aws
  profile: awsdev
  region: eu-west-1
  stage: ${opt:stage}
  runtime: nodejs6.10
  memorySize: 128
  timeout: 6
  apiKeys:
    - ${opt:stage}-devkey

custom:
  apiversion: v1

functions:
  probeGetHealth:
    handler: functions/probe/probehandler.getHealth
    description: Check health status
    events:
      - http:
          method: get
          path: ${self:custom.apiversion}/probe/health
          private: true
  actorGetAll:
    handler: functions/actor/actorhandler.getAllActors
    description: Get list of all actors
    events:
      - http:
          method: get
          path: ${self:custom.apiversion}/actors
          private: true
  countryGetAll:
    handler: functions/country/countryhandler.getAllCountries
    description: Get list of all countries
    events:
      - http:
          method: get
          path: ${self:custom.apiversion}/country
          private: true
  countryGetById:
    handler: functions/country/countryhandler.getCountryById
    description: Get a country by Id
    events:
      - http:
          method: get
          path: ${self:custom.apiversion}/country/{id}
          private: true
